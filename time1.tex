\begin{figure*}[ht]
\krule[counter advance transition]{
\kall{agent}{
\begin{array}{@{}c@{}}
\kall{k}{
 \reduce{\terminal{endEventBlock}}{{\dotCt{}}}
}
\kall{id}{\variable[Int]i}
\kall{counter}{ \reduce{\variable[Int]{N}}{{{{\variable[Int]{N}}
  \mathrel{+_{\scriptstyle\it Int}}
  {{}\variable[Int]1}}}}}
\end{array}
}
\begin{array}{@{}c@{}}
\kmiddle{counterMap}{ \reduce{\variable[Int]{i}\mapsto N}{{{{{\variable[Int]{i}\mapsto \variable[Int]{N}+_{Int} 1}}}}}}
  \end{array}
}
{
  {{\variable[Int]{N}}
  \mathrel{<_{\scriptstyle\it Int}}
  {{}\variable[Int]n_0}}
}{}{}{}
\krule[time advance transition]{
	\kall{counterMap}{\variable[Map]CM}
	\kall{time}{
		\reduce{\variable[Int]{T}}{{}{\variable[Int]T \mathrel{+_{\scriptstyle\it Int}} \variable[Int]\delta}
		}}
		\kall{transitionState}{
			\reduce{\terminal{discrete}}{{}{\terminal{dynamic}}
			}}
		}
		{
			{{\variable[Int]{n_0}}
				\mathrel{==_{\scriptstyle\it Int}}
				{{}\terminal{findMin}({\variable[Map]CM})} \terminal{and}{\variable[Int]{n_0}}
				\mathrel{==_{\scriptstyle\it Int}}
				{{}\terminal{findMax}({\variable[Map]CM})}}
		}{}{}{}
\end{figure*}
